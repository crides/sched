let map @ { ? } = import! std.map
let io @ { ? } = import! std.io
let proc @ { ? } = import! std.process
let result @ { ? } = import! std.result
let { log, obj, add_handler } = import! sched
let time = import! time

add_handler "test" (\l ->
    let t = time.to_local l.time
    let urbit_time = time.format_datetime t "%Y.%m.%d..%H.%M.%S..%Z"
    seq proc.execute (proc.proc "notify-send" ["Sched", urbit_time])
    io.wrap ())

let m = map.singleton "desc" "just a test"
log.new "test" m
